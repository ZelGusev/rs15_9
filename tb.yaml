name: rs_tb

sources:
  - path: $local/
    tag: ''
    files:
      build: ''
      tb:   tb/sim.files

targets:
  test-comp:
    - xrun +access+rwc -64 -uvm -disable_sem2009 -notimingchecks -no_tchk_msg +no_warning -compile
      -top top_tb
      -input "./tb/scripts/simulate.tcl"
      -f ../src/rs/build.files
      -f ../src/rs_tb/tb.files

  test-base:
    - export DUMPDB=1
    - if [ -z "${SVSEED+x}" ]; then export SVSEED=10; fi
    - if [ -z "${NUM_TX+x}" ]; then export NUM_TX=5; fi
    - xrun +access+rwc -64 -uvm -disable_sem2009 -notimingchecks -no_tchk_msg +no_warning +gui
      +UVM_VERBOSITY=UVM_LOW +UVM_NO_RELNOTES +NUM_RACE=$NUM_TX -seed $SVSEED $ARGS
      -top top_tb -timescale 1ns/1ns
      -input "../../tb/scripts/simulate.tcl"
      -f ../src/rs/build.files
      -f ../src/rs_tb/tb.files

